{% extends 'layout.html' %}

{%block title%}CHai {%endblock title%}



{%block content%}
<section class="hero is-info is-bold">
    <div class="hero-body">
      <div class="container has-text-centered">
        <h1 class="title">Post Tweet</h1>
        <h2 class="subtitle">Connecting people through the power of tweets</h2>
      </div>
    </div>
  </section>


<section class="section">
    <div class="container">
        <h1 class="title">Create a Tweet</h1>
        <form method="post" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="field">
                {{ form.text.label_tag }}
                <div class="control">
                    {{ form.text }}
                </div>
            </div>
            <div class="field">
                {{ form.photo.label_tag }}
                <div class="control">
                    <div class="file has-name is-link">
                        <label class="file-label">
                            <input class="file-input" type="file" name="photo">
                            <span class="file-cta">
                                <span class="file-icon">
                                    <i class="fas fa-upload"></i>
                                </span>
                                <span class="file-label">
                                    Choose a fileâ€¦
                                </span>
                            </span>
                            <span class="file-name">
                                No file uploaded
                            </span>
                        </label>
                    </div>
                </div>
            </div>
            <div class="field">
                <div class="control">
                    <button type="submit" class="button is-link">Submit</button>
                </div>
            </div>
        </form>
    </div>
</section>
<script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
<script>
    document.addEventListener('DOMContentLoaded', () => {
        const fileInput = document.querySelector('.file-input');
        const fileName = document.querySelector('.file-name');

        fileInput.addEventListener('change', () => {
            const files = fileInput.files;
            if (files.length > 0) {
                fileName.textContent = files[0].name;
            } else {
                fileName.textContent = 'No file uploaded';
            }
        });
    });
</script>

{%endblock content%}